{"ast":null,"code":"var _jsxFileName = \"/Users/alekspavlov/Desktop/Kood-Johvi/social-network/src/Pages/CreateEvent/CreateEvent.tsx\",\n  _s = $RefreshSig$();\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport './CreateEvent.css';\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CreateEvent() {\n  _s();\n  const navigate = useNavigate();\n  const [error, setError] = useState('');\n  const {\n    groupId\n  } = useParams();\n  const groupIdAsString = groupId || '';\n  const Id = parseInt(groupIdAsString, 10);\n  const [eventData, setEventData] = useState({\n    name: '',\n    about: '',\n    time: '',\n    groupId: Id\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEventData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    if (eventData.name === '') {\n      setError('Please enter event name');\n      return;\n    } else if (eventData.name.length > 25) {\n      setError('Name max length is 25 chars');\n      return;\n    } else if (eventData.about === '') {\n      setError('Please enter event description');\n      return;\n    } else if (eventData.time === '') {\n      setError('Please enter event date');\n      return;\n    } else if (eventData.time < formattedTomorrow) {\n      setError('You cannot create event in history');\n      return;\n    } else if (eventData.time.split('-')[0] > String(tomorrow.getFullYear())) {\n      setError('You cannot create in future year');\n      return;\n    } else {\n      setError('');\n    }\n    await fetch(`http://localhost:8080/api/events/create/${Id}`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: \"include\",\n      body: JSON.stringify(eventData)\n    }).then(async response => {\n      if (!response.ok) {\n        const message = await response.text();\n        setError(message);\n        return;\n      } else {\n        navigate(`/events/${groupId}`);\n      }\n    });\n  };\n  const tomorrow = new Date();\n  tomorrow.setDate(tomorrow.getDate() + 1);\n\n  // Format tomorrow's date in MM-dd-yyyy format\n  const formattedTomorrow = tomorrow.getFullYear() + '-' + (tomorrow.getMonth() + 1).toString().padStart(2, '0') + '-' + tomorrow.getDate().toString().padStart(2, '0');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"event-create-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"event-title event-inputs\",\n        placeholder: \"Title\",\n        name: \"name\",\n        value: eventData.name,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"event-description event-inputs\",\n        placeholder: \"description\",\n        name: \"about\",\n        value: eventData.about,\n        maxLength: 250,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"event-date event-inputs\",\n        type: \"date\",\n        name: \"time\",\n        value: eventData.time,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"post-create__error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"header__back events-submit\",\n        onClick: handleSubmit,\n        children: \"CREATE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(CreateEvent, \"p9SKZuv0fzV5gvjnbPu7n4JC8uU=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = CreateEvent;\nexport default CreateEvent;\nvar _c;\n$RefreshReg$(_c, \"CreateEvent\");","map":{"version":3,"names":["useNavigate","useParams","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateEvent","_s","navigate","error","setError","groupId","groupIdAsString","Id","parseInt","eventData","setEventData","name","about","time","handleChange","e","value","target","prevData","handleSubmit","length","formattedTomorrow","split","String","tomorrow","getFullYear","fetch","method","headers","credentials","body","JSON","stringify","then","response","ok","message","text","Date","setDate","getDate","getMonth","toString","padStart","children","className","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","maxLength","type","onClick","_c","$RefreshReg$"],"sources":["/Users/alekspavlov/Desktop/Kood-Johvi/social-network/src/Pages/CreateEvent/CreateEvent.tsx"],"sourcesContent":["import { useNavigate, useParams } from \"react-router-dom\"\nimport './CreateEvent.css'\nimport { useState } from \"react\"\nimport { time } from \"console\"\n\nfunction CreateEvent() {\n    const navigate = useNavigate()\n    const [error, setError] = useState('')\n\n    const { groupId } = useParams()\n    const groupIdAsString = groupId || '';\n    const Id = parseInt(groupIdAsString, 10)\n\n    const [eventData, setEventData] = useState({\n        name: '',\n        about: '',\n        time: '',\n        groupId: Id\n    })\n\n    const handleChange = (e: any) => {\n        const { name, value } = e.target\n        setEventData((prevData) => ({\n            ...prevData,\n            [name]: value,\n        }))\n    }\n\n    const handleSubmit = async (e: any) => {\n        if (eventData.name === '') {\n            setError('Please enter event name')\n            return;\n        } else if (eventData.name.length > 25) {\n            setError('Name max length is 25 chars')\n            return;\n        } else if (eventData.about === '') {\n            setError('Please enter event description')\n            return\n        } else if (eventData.time === '') {\n            setError('Please enter event date')\n            return;\n        } else if (eventData.time < formattedTomorrow) {\n            setError('You cannot create event in history')\n            return;\n        } else if (eventData.time.split('-')[0] > String(tomorrow.getFullYear())) {\n            setError('You cannot create in future year')\n            return;\n        } else {\n            setError('')\n        }\n\n        await fetch(`http://localhost:8080/api/events/create/${Id}`, {\n            method: \"POST\",\n            headers: { 'Content-Type': 'application/json' },\n            credentials: \"include\",\n            body: JSON.stringify(eventData)\n        }).then(async (response) => {\n            if (!response.ok) {\n                const message = await response.text()\n                setError(message)\n                return\n            } else {\n                navigate(`/events/${groupId}`)\n            }\n        })\n    }\n\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n\n    // Format tomorrow's date in MM-dd-yyyy format\n    const formattedTomorrow =\n        tomorrow.getFullYear() + '-' +\n        (tomorrow.getMonth() + 1).toString().padStart(2, '0') + '-' +\n        tomorrow.getDate().toString().padStart(2, '0')\n\n\n\n    return (\n        <>\n            <div className=\"event-create-main\">\n                <input\n                    className=\"event-title event-inputs\"\n                    placeholder=\"Title\"\n                    name=\"name\"\n                    value={eventData.name}\n                    onChange={handleChange} />\n                <textarea\n                    className=\"event-description event-inputs\"\n                    placeholder=\"description\"\n                    name=\"about\"\n                    value={eventData.about}\n                    maxLength={250}\n                    onChange={handleChange} />\n                <input\n                    className=\"event-date event-inputs\"\n                    type=\"date\"\n                    name=\"time\"\n                    value={eventData.time}\n                    onChange={handleChange} />\n                <p className='post-create__error' >{error}</p>\n                <button className=\"header__back events-submit\" onClick={handleSubmit}>CREATE</button>\n            </div>\n        </>\n    )\n}\n\nexport default CreateEvent"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}